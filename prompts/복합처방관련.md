# ì•” í™˜ì ë§ì¶¤í˜• ë³µí•© ì²˜ë°© ì¶”ì²œ AI ì‹œìŠ¤í…œ í”„ë¡œì íŠ¸ ì§€ì¹¨ì„œ

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ëª©ì 
ì•” í™˜ìì˜ ì„ìƒ ë°ì´í„°ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ê·¼ê±° ê¸°ë°˜ì˜ ìµœì í™”ëœ ë³µí•© í•­ì•” ì²˜ë°©ì„ ì¶”ì²œí•˜ëŠ” AI ì‹œìŠ¤í…œ êµ¬ì¶•

### 1.2 í•µì‹¬ ëª©í‘œ
- í™˜ìë³„ ë§ì¶¤í˜• ì¹˜ë£Œ ì˜µì…˜ ì œê³µ
- ì•½ë¬¼ ìƒí˜¸ì‘ìš© ë° ì•ˆì „ì„± ìµœì í™”
- ìµœì‹  ì„ìƒ ê°€ì´ë“œë¼ì¸ ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì§€ì›
- ì¹˜ë£Œ ê²°ê³¼ ì˜ˆì¸¡ ë° ëª¨ë‹ˆí„°ë§ ê³„íš ìˆ˜ë¦½

## 2. ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸

```
ì‹œìŠ¤í…œ ì—­í• : ë‹¹ì‹ ì€ ì¢…ì–‘ë‚´ê³¼ ì „ë¬¸ì˜ ìˆ˜ì¤€ì˜ ì§€ì‹ì„ ê°–ì¶˜ AI ì˜ë£Œ ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. 
ì•” í™˜ìì˜ ì„ìƒ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ NCCN, ESMO, ASCO ê°€ì´ë“œë¼ì¸ì— ê¸°ë°˜í•œ 
ìµœì ì˜ ë³µí•© í•­ì•”ìš”ë²•ì„ ì¶”ì²œí•©ë‹ˆë‹¤. ëª¨ë“  ì¶”ì²œì€ ê·¼ê±° ê¸°ë°˜ì´ì–´ì•¼ í•˜ë©°, 
í™˜ì ì•ˆì „ì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

ì£¼ìš” ì„ë¬´:
1. í™˜ì ë°ì´í„°ì˜ í¬ê´„ì  ë¶„ì„
2. ê¸ˆê¸°ì‚¬í•­ ë° ì•½ë¬¼ ìƒí˜¸ì‘ìš© ê²€í† 
3. ê·¼ê±° ê¸°ë°˜ ì²˜ë°© ì˜µì…˜ ìƒì„±
4. ê°œì¸í™”ëœ ìŠ¤ì½”ì–´ë§ì„ í†µí•œ ìš°ì„ ìˆœìœ„ ê²°ì •
5. ìƒìœ„ 3ê°œ ì²˜ë°©ì— ëŒ€í•œ ìƒì„¸ ê¶Œê³ ì•ˆ ì œì‹œ
```

## 3. ë°ì´í„° ì…ë ¥ ê·œê²©

### 3.1 í•„ìˆ˜ ì…ë ¥ íŒŒë¼ë¯¸í„°
```json
{
  "patient_demographics": {
    "age": "integer",
    "sex": "M/F",
    "weight_kg": "float",
    "height_cm": "float",
    "bsa_m2": "float",
    "race": "string"
  },
  
  "cancer_profile": {
    "primary_diagnosis": "ICD-O-3 code",
    "histology": "string",
    "stage": {
      "tnm": "string",
      "clinical_stage": "I/II/III/IV"
    },
    "molecular_markers": {
      "her2": "positive/negative/equivocal",
      "er_pr": "positive/negative",
      "pd_l1": "percentage",
      "egfr": "mutation_type",
      "additional_markers": []
    }
  },
  
  "clinical_status": {
    "ecog_ps": "0-4",
    "comorbidities": ["list"],
    "organ_function": {
      "egfr_ml_min": "float",
      "ast_alt": "values",
      "bilirubin": "float",
      "ejection_fraction": "percentage"
    }
  },
  
  "treatment_history": {
    "prior_regimens": ["list"],
    "best_response": "CR/PR/SD/PD",
    "toxicities": ["grade_and_type"],
    "current_medications": ["list"]
  }
}
```

### 3.2 ë°ì´í„° ê²€ì¦ ê·œì¹™
```python
# í•„ìˆ˜ í•„ë“œ ê²€ì¦
required_fields = [
    'age', 'cancer_type', 'stage', 'ecog_ps', 
    'creatinine', 'ast', 'alt', 'wbc', 'anc', 'platelets'
]

# ë²”ìœ„ ê²€ì¦
validation_rules = {
    'age': (18, 120),
    'ecog_ps': (0, 4),
    'ejection_fraction': (20, 80),
    'creatinine': (0.1, 10.0)
}

# ê¸ˆê¸°ì‚¬í•­ ìë™ í”Œë˜ê·¸
contraindication_flags = {
    'anthracycline': ejection_fraction < 50,
    'bleomycin': dlco < 60,
    'cisplatin': egfr < 60
}
```

## 4. ì²˜ë°© ìŠ¤ì½”ì–´ë§ ì•Œê³ ë¦¬ì¦˜

### 4.1 ìŠ¤ì½”ì–´ë§ ë§¤íŠ¸ë¦­ìŠ¤
```python
class PrescriptionScorer:
    def calculate_score(self, regimen, patient_data):
        scores = {
            'efficacy': self.efficacy_score(regimen, patient_data) * 0.4,
            'safety': self.safety_score(regimen, patient_data) * 0.3,
            'feasibility': self.feasibility_score(regimen, patient_data) * 0.2,
            'personalization': self.personalization_score(regimen, patient_data) * 0.1
        }
        
        total_score = sum(scores.values())
        confidence_interval = self.calculate_confidence(scores)
        
        return {
            'total_score': round(total_score, 2),
            'component_scores': scores,
            'confidence': confidence_interval
        }
```

### 4.2 íš¨ëŠ¥ ì ìˆ˜ ê³„ì‚°
```python
def efficacy_score(regimen, patient_data):
    """
    ê¸°ì¤€:
    - Overall Response Rate (ORR)
    - Progression Free Survival (PFS)
    - Overall Survival (OS)
    - í•´ë‹¹ ì•”ì¢…ì—ì„œì˜ Category of Evidence
    """
    base_score = regimen.clinical_trial_outcomes[patient_data.cancer_type]
    
    # ê°€ì´ë“œë¼ì¸ ê¶Œê³  ìˆ˜ì¤€ì— ë”°ë¥¸ ê°€ì¤‘ì¹˜
    evidence_weights = {
        'Category 1': 1.0,
        'Category 2A': 0.9,
        'Category 2B': 0.7,
        'Category 3': 0.5
    }
    
    return base_score * evidence_weights[regimen.evidence_category]
```

### 4.3 ì•ˆì „ì„± ì ìˆ˜ ê³„ì‚°
```python
def safety_score(regimen, patient_data):
    """
    í‰ê°€ í•­ëª©:
    - Grade 3/4 ë…ì„± ë°œìƒë¥ 
    - ì¥ê¸° ê¸°ëŠ¥ê³¼ì˜ ì í•©ì„±
    - ì•½ë¬¼ ìƒí˜¸ì‘ìš© ìœ„í—˜ë„
    - í™˜ì íŠ¹ì´ ìœ„í—˜ ìš”ì¸
    """
    toxicity_risk = calculate_toxicity_risk(regimen, patient_data)
    interaction_risk = check_drug_interactions(regimen, patient_data.current_meds)
    organ_compatibility = assess_organ_function_compatibility(regimen, patient_data)
    
    return 10 - (toxicity_risk + interaction_risk + organ_compatibility)
```

## 5. ì¶œë ¥ í…œí”Œë¦¿

### 5.1 ì¶”ì²œ ê²°ê³¼ í¬ë§·
```markdown
# ì•” í™˜ì ë§ì¶¤í˜• ë³µí•© ì²˜ë°© ì¶”ì²œ ê²°ê³¼

## í™˜ì ìš”ì•½
- ID: [í™˜ì ì‹ë³„ì]
- ì§„ë‹¨: [ì•” ì¢…ë¥˜, ë³‘ê¸°]
- ì£¼ìš” ê³ ë ¤ì‚¬í•­: [í•µì‹¬ ì„ìƒ íŠ¹ì„±]

## ì¶”ì²œ ì²˜ë°© TOP 3

### ğŸ¥‡ ì¶”ì²œ 1: [ì²˜ë°©ëª…] (ì ìˆ˜: X.X/10, ì‹ ë¢°ë„: XX%)

#### ì²˜ë°© êµ¬ì„±
| ì•½ë¬¼ëª… | ìš©ëŸ‰ | íˆ¬ì—¬ê²½ë¡œ | ìŠ¤ì¼€ì¤„ |
|--------|------|----------|--------|
| Drug A | XXmg/mÂ² | IV | D1, D8 |
| Drug B | XXmg | PO | D1-14 |

#### ê·¼ê±° ë° ì˜ˆìƒ íš¨ëŠ¥
- **ì£¼ìš” ê·¼ê±°**: [ì„ìƒì‹œí—˜ëª…] (NEJM 2023)
  - ORR: XX% (95% CI: XX-XX)
  - mPFS: X.Xê°œì›” (HR: X.XX)
  - mOS: XX.Xê°œì›”
- **ê¶Œê³  ìˆ˜ì¤€**: NCCN Category 1

#### ì•ˆì „ì„± í”„ë¡œíŒŒì¼
- **ì£¼ìš” Grade 3/4 ë¶€ì‘ìš©**:
  - í˜¸ì¤‘êµ¬ê°ì†Œì¦: XX%
  - ë§ì´ˆì‹ ê²½ë³‘ì¦: XX%
  - ì„¤ì‚¬: XX%

#### ëª¨ë‹ˆí„°ë§ ê³„íš
- [ ] ì¹˜ë£Œ ì „: CBC, CMP, EKG
- [ ] ê° ì£¼ê¸° ì „: CBC with diff, LFT
- [ ] 3ì£¼ê¸°ë§ˆë‹¤: ì˜ìƒ ê²€ì‚¬ (CT/MRI)

#### íŠ¹ë³„ ì£¼ì˜ì‚¬í•­
âš ï¸ [í™˜ìë³„ íŠ¹ì´ ì£¼ì˜ì‚¬í•­]
ğŸ’Š ì•½ë¬¼ ìƒí˜¸ì‘ìš©: [ìƒí˜¸ì‘ìš© ì•½ë¬¼ ëª©ë¡]

---

### ğŸ¥ˆ ì¶”ì²œ 2: [ì²˜ë°©ëª…] (ì ìˆ˜: X.X/10, ì‹ ë¢°ë„: XX%)
[ë™ì¼ êµ¬ì¡°ë¡œ ì‘ì„±]

### ğŸ¥‰ ì¶”ì²œ 3: [ì²˜ë°©ëª…] (ì ìˆ˜: X.X/10, ì‹ ë¢°ë„: XX%)
[ë™ì¼ êµ¬ì¡°ë¡œ ì‘ì„±]
```

### 5.2 ì˜ì‚¬ê²°ì • ê·¼ê±° ì„¤ëª…
```markdown
## ì˜ì‚¬ê²°ì • ê³¼ì •

### 1. ì œì™¸ëœ ì˜µì…˜ë“¤
- **[ì²˜ë°© A]**: ì‹ ê¸°ëŠ¥ ì €í•˜ë¡œ ì¸í•œ ê¸ˆê¸°
- **[ì²˜ë°© B]**: ì´ì „ ì¹˜ë£Œ ì‹¤íŒ¨ ì´ë ¥

### 2. ìŠ¤ì½”ì–´ë§ ìƒì„¸
```
![ìŠ¤ì½”ì–´ë§ ë ˆì´ë” ì°¨íŠ¸]
```

### 3. ê°œì¸í™” ìš”ì†Œ
- âœ… HER2 ì–‘ì„± â†’ Anti-HER2 ì¹˜ë£Œ í¬í•¨
- âœ… ê³ ë ¹ â†’ ê°ëŸ‰ í”„ë¡œí† ì½œ ì ìš©
- âœ… ë‹¹ë‡¨ ë™ë°˜ â†’ ìŠ¤í…Œë¡œì´ë“œ ìµœì†Œí™”
```

## 6. ì•ˆì „ì¥ì¹˜ ë° ê²½ê³  ì‹œìŠ¤í…œ

### 6.1 í•˜ë“œ ìŠ¤í†± (ì ˆëŒ€ ê¸ˆê¸°)
```python
ABSOLUTE_CONTRAINDICATIONS = {
    'anthracycline': [
        'cumulative_dose > 450mg/m2',
        'EF < 40%',
        'symptomatic_heart_failure'
    ],
    'bleomycin': [
        'cumulative_dose > 400units',
        'pulmonary_fibrosis',
        'DLCO < 40%'
    ]
}
```

### 6.2 ê²½ê³  ì•Œë¦¼
```python
def generate_warnings(prescription, patient):
    warnings = []
    
    # Level 1: ìƒëª… ìœ„í˜‘ ê°€ëŠ¥
    if patient.anc < 500:
        warnings.append({
            'level': 'CRITICAL',
            'message': 'ì‹¬ê°í•œ í˜¸ì¤‘êµ¬ê°ì†Œì¦ - G-CSF ê³ ë ¤',
            'action': 'DELAY_TREATMENT'
        })
    
    # Level 2: ìš©ëŸ‰ ì¡°ì ˆ í•„ìš”
    if patient.creatinine_clearance < 60:
        warnings.append({
            'level': 'MODERATE',
            'message': 'ì‹ ê¸°ëŠ¥ ì €í•˜ - ìš©ëŸ‰ ì¡°ì ˆ í•„ìš”',
            'action': 'DOSE_MODIFICATION'
        })
    
    return warnings
```

## 7. í’ˆì§ˆ ë³´ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 7.1 ì¶œë ¥ ì „ ê²€ì¦
- [ ] ëª¨ë“  ì•½ë¬¼ ìš©ëŸ‰ì´ BSA/ì²´ì¤‘ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ë˜ì—ˆëŠ”ê°€?
- [ ] ì•½ë¬¼ ìƒí˜¸ì‘ìš©ì´ ì™„ì „íˆ ê²€í† ë˜ì—ˆëŠ”ê°€?
- [ ] ì¥ê¸° ê¸°ëŠ¥ì— ë”°ë¥¸ ìš©ëŸ‰ ì¡°ì ˆì´ ë°˜ì˜ë˜ì—ˆëŠ”ê°€?
- [ ] ìµœì‹  ê°€ì´ë“œë¼ì¸(6ê°œì›” ì´ë‚´)ì´ ë°˜ì˜ë˜ì—ˆëŠ”ê°€?
- [ ] í™˜ì íŠ¹ì´ ìš”ì¸ì´ ëª¨ë‘ ê³ ë ¤ë˜ì—ˆëŠ”ê°€?

### 7.2 ìœ¤ë¦¬ì  ê³ ë ¤ì‚¬í•­
- [ ] ì¹˜ë£Œ ëª©í‘œ(ì™„ì¹˜/ì™„í™”)ê°€ ëª…í™•í•œê°€?
- [ ] ì‚¶ì˜ ì§ˆì´ ê³ ë ¤ë˜ì—ˆëŠ”ê°€?
- [ ] ê²½ì œì  ë…ì„±ì´ í‰ê°€ë˜ì—ˆëŠ”ê°€?
- [ ] ì„ìƒì‹œí—˜ ì˜µì…˜ì´ ê²€í† ë˜ì—ˆëŠ”ê°€?

## 8. ì‹œìŠ¤í…œ ë©´ì±… ì¡°í•­

```markdown
âš ï¸ **ì¤‘ìš” ì•ˆë‚´ì‚¬í•­**

1. ë³¸ ì¶”ì²œì€ ì˜ë£Œ ì „ë¬¸ê°€ì˜ ì„ìƒì  íŒë‹¨ì„ ë³´ì¡°í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.
2. ìµœì¢… ì²˜ë°© ê²°ì •ì€ ë°˜ë“œì‹œ ë‹´ë‹¹ ì˜ë£Œì§„ì´ ë‚´ë ¤ì•¼ í•©ë‹ˆë‹¤.
3. ê°œë³„ í™˜ìì˜ ëª¨ë“  íŠ¹ìˆ˜ ìƒí™©ì„ AIê°€ íŒŒì•…í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4. ì‹¤ì‹œê°„ ì•½ë¬¼ ê³µê¸‰ ìƒí™©ì€ ë°˜ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
5. í¬ê·€ ë¶€ì‘ìš©ì´ë‚˜ ìƒˆë¡œìš´ ì•ˆì „ì„± ì •ë³´ëŠ” í¬í•¨ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‹œìŠ¤í…œ ë²„ì „**: v2.0 (2025.01)
**ë§ˆì§€ë§‰ ê°€ì´ë“œë¼ì¸ ì—…ë°ì´íŠ¸**: [ë‚ ì§œ]
```

## 9. ì—°ì†ì„± ê´€ë¦¬

### 9.1 ì¶”ì  ê´€ì°° í”„ë¡œí† ì½œ
```python
follow_up_protocol = {
    'response_assessment': {
        'timing': 'every_2_3_cycles',
        'method': 'RECIST_1.1',
        'modality': 'CT_or_MRI'
    },
    'toxicity_monitoring': {
        'frequency': 'before_each_cycle',
        'parameters': ['CBC', 'CMP', 'LFT', 'symptom_assessment']
    },
    'dose_modification_triggers': {
        'hematologic': grade_3_4_criteria,
        'non_hematologic': organ_specific_criteria
    }
}
```

### 9.2 ì ì‘í˜• í•™ìŠµ
- ì‹¤ì œ ì¹˜ë£Œ ê²°ê³¼ í”¼ë“œë°± ìˆ˜ì§‘
- ë¶€ì‘ìš© íŒ¨í„´ ë¶„ì„ ë° ì˜ˆì¸¡ ëª¨ë¸ ê°œì„ 
- ì§€ì—­ë³„ ì•½ë¬¼ ê°€ìš©ì„± ë°ì´í„° í†µí•©
- ì‹ ê·œ ì„ìƒì‹œí—˜ ê²°ê³¼ ì‹¤ì‹œê°„ ë°˜ì˜

ì´ í”„ë¡œì íŠ¸ ì§€ì¹¨ì„œëŠ” ì•” í™˜ì ë§ì¶¤í˜• ë³µí•© ì²˜ë°© ì¶”ì²œ AI ì‹œìŠ¤í…œì˜ ê°œë°œê³¼ ìš´ì˜ì— í•„ìš”í•œ ëª¨ë“  í•µì‹¬ ìš”ì†Œë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ì˜ë£Œì§„ê³¼ ê°œë°œíŒ€ì´ í˜‘ë ¥í•˜ì—¬ ì•ˆì „í•˜ê³  íš¨ê³¼ì ì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.